define("tpl!likertInteraction/likert/creator/tpl/propertiesForm",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){function program1(depth0,data){var stack1,helper,buffer="";return buffer+='\n        <option value="'+escapeExpression((stack1=null==data||data===!1?data:data.key,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" ',stack1=helpers.if.call(depth0,depth0&&depth0.selected,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+=">",(helper=helpers.label)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.label,stack1=typeof helper===functionType?helper.call(depth0,{
hash:{},data:data}):helper),buffer+=escapeExpression(stack1)+"</option>\n        "}function program2(depth0,data){return'selected="selected"'}this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,options,buffer="",functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;return buffer+='<div class="panel">\n    <label for="level">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,options={hash:{},data:data},helper?helper.call(depth0,"Level",options):helperMissing.call(depth0,"__","Level",options)))+'</label>\n    <span class="icon-help tooltipstered" data-tooltip="~ .tooltip-content:first" data-tooltip-theme="info"></span>\n    <span class="tooltip-content">'+escapeExpression((helper=helpers.__||depth0&&depth0.__,
options={hash:{},data:data},helper?helper.call(depth0,"Scale size",options):helperMissing.call(depth0,"__","Scale size",options)))+'</span>\n    <select name="level" class="select2" data-has-search="false">\n        ',stack1=helpers.each.call(depth0,depth0&&depth0.levels,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data}),(stack1||0===stack1)&&(buffer+=stack1),buffer+="\n    </select>\n</div>"})}),define("likertInteraction/likert/creator/widget/states/Question",["taoQtiItem/qtiCreator/widgets/states/factory","taoQtiItem/qtiCreator/widgets/interactions/states/Question","taoQtiItem/qtiCreator/widgets/helpers/formElement","taoQtiItem/qtiCreator/editor/simpleContentEditableElement","taoQtiItem/qtiCreator/editor/containerEditor","tpl!likertInteraction/likert/creator/tpl/propertiesForm","lodash","jquery"],function(stateFactory,Question,formElement,simpleEditor,containerEditor,formTpl,_,$){
"use strict";var LikertInteractionStateQuestion=stateFactory.extend(Question,function(){var $container=this.widget.$container,$prompt=$container.find(".prompt"),interaction=this.widget.element;containerEditor.create($prompt,{change:function(text){interaction.data("prompt",text),interaction.updateMarkup()},markup:interaction.markup,markupSelector:".prompt",related:interaction,areaBroker:this.widget.getAreaBroker()}),simpleEditor.create($container,".likert-label-min",function(text){interaction.prop("label-min",text)}),simpleEditor.create($container,".likert-label-max",function(text){interaction.prop("label-max",text)})},function(){var $container=this.widget.$container,$prompt=$container.find(".prompt");
simpleEditor.destroy($container),containerEditor.destroy($prompt)});return LikertInteractionStateQuestion.prototype.initForm=function(){var _widget=this.widget,$form=_widget.$form,interaction=_widget.element,response=interaction.getResponseDeclaration(),level=parseInt(interaction.prop("level"))||5,levels=[5,7,9],levelData={};_.each(levels,function(lvl){levelData[lvl]={label:lvl,selected:lvl===level}}),$form.html(formTpl({serial:response.serial,levels:levelData})),formElement.initWidget($form),formElement.setChangeCallbacks($form,interaction,{level:function(interaction,value){interaction.prop("level",value),interaction.triggerPci("levelchange",[parseInt(value)]);
}})},LikertInteractionStateQuestion}),define("likertInteraction/likert/creator/widget/states/Answer",["taoQtiItem/qtiCreator/widgets/states/factory","taoQtiItem/qtiCreator/widgets/interactions/states/Answer","taoQtiItem/qtiCreator/widgets/interactions/helpers/answerState","taoQtiItem/qtiCreator/widgets/helpers/content"],function(stateFactory,Answer,answerStateHelper){"use strict";var InteractionStateAnswer=stateFactory.extend(Answer,function(){this.widget.$original.find(".likert input").prop("disabled","disabled")},function(){this.widget.$original.find(".likert input").removeProp("disabled")});return InteractionStateAnswer.prototype.initResponseForm=function(){
answerStateHelper.initResponseForm(this.widget,{rpTemplates:["CUSTOM","NONE"]})},InteractionStateAnswer}),define("likertInteraction/likert/creator/widget/states/states",["taoQtiItem/qtiCreator/widgets/states/factory","taoQtiItem/qtiCreator/widgets/interactions/customInteraction/states/states","likertInteraction/likert/creator/widget/states/Question","likertInteraction/likert/creator/widget/states/Answer"],function(factory,states){"use strict";return factory.createBundle(states,arguments,["correct","map"])}),define("likertInteraction/likert/creator/widget/Widget",["taoQtiItem/qtiCreator/widgets/interactions/customInteraction/Widget","likertInteraction/likert/creator/widget/states/states"],function(Widget,states){
"use strict";var LikertScaleInteractionWidget=Widget.clone();return LikertScaleInteractionWidget.initCreator=function(){this.registerStates(states),Widget.initCreator.call(this),this.element.getResponseDeclaration().setTemplate("NONE")},LikertScaleInteractionWidget}),define("tpl!likertInteraction/likert/creator/tpl/markup",["handlebars"],function(hb){return hb.template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"],helpers=this.merge(helpers,Handlebars.helpers),data=data||{};var stack1,helper,buffer="",functionType="function";return buffer+='<div class="likertInteraction">\n    <style>\n        .likertInteraction ul.likert{\n            list-style-type: none;\n            margin: 0 5px;\n            padding: 0;\n            display: inline-block;\n            position: relative;\n            top: 7px;\n        }\n        .likertInteraction ul.likert li{\n            float: left;\n            text-align: left;\n            list-style-type: none;\n        }\n    </style>\n    <div class="prompt">',
(helper=helpers.prompt)?stack1=helper.call(depth0,{hash:{},data:data}):(helper=depth0&&depth0.prompt,stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper),(stack1||0===stack1)&&(buffer+=stack1),buffer+='</div>\n    <ul class="likert"></ul>\n</div>'})}),define("likertInteraction/imsPciCreator",["lodash","likertInteraction/likert/creator/widget/Widget","tpl!likertInteraction/likert/creator/tpl/markup"],function(_,Widget,markupTpl){"use strict";var _typeIdentifier="likertInteraction";return{getTypeIdentifier:function(){return _typeIdentifier},getWidget:function(){return Widget},getDefaultProperties:function(pci){return{level:5,"label-min":"min",
"label-max":"max"}},afterCreate:function(pci){pci.getResponseDeclaration().setTemplate("NONE")},getMarkupTemplate:function(){return markupTpl},getMarkupData:function(pci,defaultData){return defaultData.prompt=pci.data("prompt"),defaultData}}}),define(["likertInteraction/imsPciCreator"],function(IMSPCI){return IMSPCI});
//# sourceMappingURL=imsPciCreator.min.js.map