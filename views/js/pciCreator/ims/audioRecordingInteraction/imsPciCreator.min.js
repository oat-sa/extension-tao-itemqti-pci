define("tpl!audioRecordingInteraction/creator/tpl/propertiesForm",["handlebars"],function(t){return t.template(function(t,e,a,n,o){function i(){return"checked=\"checked\""}function s(){return"style=\"display:none\""}function l(){return" selected=\"selected\""}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,t.helpers),o=o||{};var r,d,c,p="",h=a.helperMissing,u=this.escapeExpression,m=this;return p+="<div class=\"panel\">\n    <label for=\"response-identifier\" class=\"has-icon\">"+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Response identifier",c):h.call(e,"__","Response identifier",c)))+"</label>\n    <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content:first\" data-tooltip-theme=\"info\"></span>\n    <div class=\"tooltip-content\">"+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"The identifier of the choice. This identifier must not be used by any other response or item variable. An identifier is a string of characters that must start with a Letter or an underscore (\"_\") and contain only Letters, underscores, hyphens (\"-\"), period (\".\", a.k.a. full-stop), Digits, CombiningChars and Extenders.",c):h.call(e,"__","The identifier of the choice. This identifier must not be used by any other response or item variable. An identifier is a string of characters that must start with a Letter or an underscore (\"_\") and contain only Letters, underscores, hyphens (\"-\"), period (\".\", a.k.a. full-stop), Digits, CombiningChars and Extenders.",c)))+"</div>\n\n    <input id=\"response-identifier\"\n           type=\"text\"\n           name=\"identifier\"\n           value=\"",(d=a.identifier)?r=d.call(e,{hash:{},data:o}):(d=e&&e.identifier,r="function"==typeof d?d.call(e,{hash:{},data:o}):d),p+=u(r)+"\"\n           placeholder=\"e.g. RESPONSE\"\n           data-validate=\"$notEmpty; $qtiIdentifier; $availableIdentifier(serial=",(d=a.serial)?r=d.call(e,{hash:{},data:o}):(d=e&&e.serial,r="function"==typeof d?d.call(e,{hash:{},data:o}):d),p+=u(r)+");\">\n</div>\n\n<div class=\"panel\">\n    <label>\n        <input name=\"allowPlayback\" type=\"checkbox\" ",r=a.if.call(e,e&&e.allowPlayback,{hash:{},inverse:m.noop,fn:m.program(1,i,o),data:o}),(r||0===r)&&(p+=r),p+="/>\n        <span class=\"icon-checkbox\"></span> "+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Allow playback",c):h.call(e,"__","Allow playback",c)))+"\n    </label>\n    <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n    <span class=\"tooltip-content\">\n        "+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Give the possibility to the test taker to playback its own recording.",c):h.call(e,"__","Give the possibility to the test taker to playback its own recording.",c)))+"\n    </span>\n</div>\n\n<div class=\"panel\">\n    <label>\n        <input name=\"hideStopButton\" type=\"checkbox\" ",r=a.if.call(e,e&&e.hideStopButton,{hash:{},inverse:m.noop,fn:m.program(1,i,o),data:o}),(r||0===r)&&(p+=r),p+="/>\n        <span class=\"icon-checkbox\"></span> "+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Hide stop button",c):h.call(e,"__","Hide stop button",c)))+"\n    </label>\n    <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n    <span class=\"tooltip-content\">\n        "+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Hide the stop button from test takers.",c):h.call(e,"__","Hide the stop button from test takers.",c)))+"\n    </span>\n</div>\n\n<div class=\"panel\" data-role=\"autoStartOption\">\n    <label>\n        <input name=\"autoStart\" type=\"checkbox\" ",r=a.if.call(e,e&&e.autoStart,{hash:{},inverse:m.noop,fn:m.program(1,i,o),data:o}),(r||0===r)&&(p+=r),p+="/>\n        <span class=\"icon-checkbox\"></span> "+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Auto start recording",c):h.call(e,"__","Auto start recording",c)))+"\n    </label>\n    <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n    <span class=\"tooltip-content\">\n        "+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Recording starts automatically once test taker give microphone use authorisation.",c):h.call(e,"__","Recording starts automatically once test taker give microphone use authorisation.",c)))+"\n    </span>\n</div>\n\n<div data-role=\"sequentialOption\" ",r=a.unless.call(e,e&&e.autoStart,{hash:{},inverse:m.noop,fn:m.program(3,s,o),data:o}),(r||0===r)&&(p+=r),p+=">\n    <div class=\"panel\">\n        <label>\n            <input name=\"sequential\" type=\"checkbox\" ",r=a.if.call(e,e&&e.sequential,{hash:{},inverse:m.noop,fn:m.program(1,i,o),data:o}),(r||0===r)&&(p+=r),p+="/>\n            <span class=\"icon-checkbox\"></span> "+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Sequential",c):h.call(e,"__","Sequential",c)))+"\n         </label>\n        <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n        <span class=\"tooltip-content\">\n            "+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Indicates that the audio forms part of a sequence with other sequential interactions. The advancing of the sequence is handled by the delivery engine. Delays are also respected.",c):h.call(e,"__","Indicates that the audio forms part of a sequence with other sequential interactions. The advancing of the sequence is handled by the delivery engine. Delays are also respected.",c)))+"\n        </span>\n    </div>\n</div>\n\n<div data-role=\"delayOptions\" ",r=a.unless.call(e,e&&e.autoStart,{hash:{},inverse:m.noop,fn:m.program(3,s,o),data:o}),(r||0===r)&&(p+=r),p+=">\n    <div class=\"panel\">\n        <label for=\"delay-minutes\" class=\"spinner\">"+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Min:",c):h.call(e,"__","Min:",c)))+"</label>\n        <input id=\"delay-minutes\" name=\"delayMinutes\" value=\"",(d=a.delayMinutes)?r=d.call(e,{hash:{},data:o}):(d=e&&e.delayMinutes,r="function"==typeof d?d.call(e,{hash:{},data:o}):d),p+=u(r)+"\" data-increment=\"1\" data-min=\"0\" data-max=\"20\" type=\"text\" />\n        <label for=\"delay-seconds\" class=\"spinner\">"+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Sec:",c):h.call(e,"__","Sec:",c)))+"</label>\n        <input id=\"delay-seconds\" name=\"delaySeconds\" value=\"",(d=a.delaySeconds)?r=d.call(e,{hash:{},data:o}):(d=e&&e.delaySeconds,r="function"==typeof d?d.call(e,{hash:{},data:o}):d),p+=u(r)+"\" data-increment=\"15\" data-min=\"0\" data-max=\"45\" type=\"text\" />\n    </div>\n</div>\n\n<div data-role=\"hideRecordOption\" ",r=a.unless.call(e,e&&e.autoStart,{hash:{},inverse:m.noop,fn:m.program(3,s,o),data:o}),(r||0===r)&&(p+=r),p+=">\n    <div class=\"panel\">\n        <label>\n            <input name=\"hideRecordButton\" type=\"checkbox\" ",r=a.if.call(e,e&&e.hideRecordButton,{hash:{},inverse:m.noop,fn:m.program(1,i,o),data:o}),(r||0===r)&&(p+=r),p+="/>\n            <span class=\"icon-checkbox\"></span> "+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Hide record button",c):h.call(e,"__","Hide record button",c)))+"\n         </label>\n        <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n        <span class=\"tooltip-content\">\n            "+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Hide the record button from test takers.",c):h.call(e,"__","Hide the record button from test takers.",c)))+"\n        </span>\n    </div>\n</div>\n\n<div class=\"panel\">\n    <label>\n        <input name=\"autoPlayback\" type=\"checkbox\" ",r=a.if.call(e,e&&e.autoPlayback,{hash:{},inverse:m.noop,fn:m.program(1,i,o),data:o}),(r||0===r)&&(p+=r),p+="/>\n        <span class=\"icon-checkbox\"></span> "+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Auto playback recording",c):h.call(e,"__","Auto playback recording",c)))+"\n    </label>\n    <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n    <span class=\"tooltip-content\">\n        "+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Recorded audio is automatically played back after recording stops. During playback, no user interaction is possible and all buttons are disabled.",c):h.call(e,"__","Recorded audio is automatically played back after recording stops. During playback, no user interaction is possible and all buttons are disabled.",c)))+"\n    </span>\n</div>\n\n<div class=\"panel\">\n    <label>\n        <input name=\"playSound\" type=\"checkbox\" ",r=a.if.call(e,e&&e.playSound,{hash:{},inverse:m.noop,fn:m.program(1,i,o),data:o}),(r||0===r)&&(p+=r),p+="/>\n        <span class=\"icon-checkbox\"></span> "+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Play sound",c):h.call(e,"__","Play sound",c)))+"\n    </label>\n    <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n    <span class=\"tooltip-content\">\n        "+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Play a sound at the start and end of recording.",c):h.call(e,"__","Play a sound at the start and end of recording.",c)))+"\n    </span>\n</div>\n\n<div class=\"panel\">\n    <label for=\"max-records\" class=\"spinner\">"+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Max attempts:",c):h.call(e,"__","Max attempts:",c)))+"</label>\n    <input id=\"max-records\" name=\"maxRecords\" value=\"",(d=a.maxRecords)?r=d.call(e,{hash:{},data:o}):(d=e&&e.maxRecords,r="function"==typeof d?d.call(e,{hash:{},data:o}):d),p+=u(r)+"\" class=\"large\" data-increment=\"1\" data-min=\"0\" type=\"text\" />\n    <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n    <span class=\"tooltip-content\">\n        "+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Maximum number of recording attempts allowed to the test taker. Set to 0 to allow unlimited attempts. With a limit of 3, the test taker will be able to click 2 times on the reset button.",c):h.call(e,"__","Maximum number of recording attempts allowed to the test taker. Set to 0 to allow unlimited attempts. With a limit of 3, the test taker will be able to click 2 times on the reset button.",c)))+"\n    </span>\n</div>\n\n<div class=\"panel\">\n    <label for=\"max-recording-time\" class=\"spinner\">"+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Time limit:",c):h.call(e,"__","Time limit:",c)))+"</label>\n    <input id=\"max-recording-time\" name=\"maxRecordingTime\" value=\"",(d=a.maxRecordingTime)?r=d.call(e,{hash:{},data:o}):(d=e&&e.maxRecordingTime,r="function"==typeof d?d.call(e,{hash:{},data:o}):d),p+=u(r)+"\" class=\"large\" data-increment=\"5\" data-min=\"5\" data-max=\"",(d=a.maximumRecordingTimeLimit)?r=d.call(e,{hash:{},data:o}):(d=e&&e.maximumRecordingTimeLimit,r="function"==typeof d?d.call(e,{hash:{},data:o}):d),p+=u(r)+"\" type=\"text\" />\n    <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n    <span class=\"tooltip-content\">\n        "+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"In seconds. Maximum recording time allowed (cannot be less than 5 seconds). Recording will automatically stop once reached.",c):h.call(e,"__","In seconds. Maximum recording time allowed (cannot be less than 5 seconds). Recording will automatically stop once reached.",c)))+"\n    </span>\n</div>\n\n<hr />\n<div class=\"panel\">\n    <label for=\"is-compressed\">"+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Recording format",c):h.call(e,"__","Recording format",c)))+"</label>\n    <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n    <span class=\"tooltip-content\">\n        "+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"With compressed recording, the audio is saved as a webm or ogg file (smaller size). With uncompressed, as a lossless Wav file (much bigger size).",c):h.call(e,"__","With compressed recording, the audio is saved as a webm or ogg file (smaller size). With uncompressed, as a lossless Wav file (much bigger size).",c)))+"\n    </span>\n    <select id=\"is-compressed\" name=\"isCompressed\">\n        <option value=\"true\"",r=a.if.call(e,e&&e.isCompressed,{hash:{},inverse:m.noop,fn:m.program(5,l,o),data:o}),(r||0===r)&&(p+=r),p+=">"+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Compressed",c):h.call(e,"__","Compressed",c)))+"</option>\n        <option value=\"false\"",r=a.unless.call(e,e&&e.isCompressed,{hash:{},inverse:m.noop,fn:m.program(5,l,o),data:o}),(r||0===r)&&(p+=r),p+=">"+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Uncompressed",c):h.call(e,"__","Uncompressed",c)))+"</option>\n    </select>\n</div>\n\n<div data-role=\"compressedOptions\" ",r=a.unless.call(e,e&&e.isCompressed,{hash:{},inverse:m.noop,fn:m.program(3,s,o),data:o}),(r||0===r)&&(p+=r),p+=">\n    <div class=\"panel\">\n        <label for=\"audio-bitrate\" class=\"spinner\">"+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Audio bitrate:",c):h.call(e,"__","Audio bitrate:",c)))+"</label>\n        <input id=\"audio-bitrate\" name=\"audioBitrate\" value=\"",(d=a.audioBitrate)?r=d.call(e,{hash:{},data:o}):(d=e&&e.audioBitrate,r="function"==typeof d?d.call(e,{hash:{},data:o}):d),p+=u(r)+"\" class=\"large\" data-increment=\"1000\" data-min=\"8000\" type=\"text\" />\n        <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n        <span class=\"tooltip-content\">\n            "+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"In bps (bits per second). Set the tradeoff between audio quality and filesize. With the default value (20.000bps), a 2minutes recording weights roughly 300KB.",c):h.call(e,"__","In bps (bits per second). Set the tradeoff between audio quality and filesize. With the default value (20.000bps), a 2minutes recording weights roughly 300KB.",c)))+"\n        </span>\n    </div>\n</div>\n\n<div data-role=\"uncompressedOptions\"  ",r=a.if.call(e,e&&e.isCompressed,{hash:{},inverse:m.noop,fn:m.program(3,s,o),data:o}),(r||0===r)&&(p+=r),p+=">\n    <div class=\"panel\">\n        <label for=\"is-stereo\">"+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Channels",c):h.call(e,"__","Channels",c)))+"</label>\n        <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n        <span class=\"tooltip-content\">\n            "+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Number of channels for the recording. Allow to cut the record size in half if used in mono.",c):h.call(e,"__","Number of channels for the recording. Allow to cut the record size in half if used in mono.",c)))+"\n        </span>\n        <select id=\"is-stereo\" name=\"isStereo\">\n            <option value=\"false\"",r=a.unless.call(e,e&&e.isStereo,{hash:{},inverse:m.noop,fn:m.program(5,l,o),data:o}),(r||0===r)&&(p+=r),p+=">"+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Mono",c):h.call(e,"__","Mono",c)))+"</option>\n            <option value=\"true\"",r=a.if.call(e,e&&e.isStereo,{hash:{},inverse:m.noop,fn:m.program(5,l,o),data:o}),(r||0===r)&&(p+=r),p+=">"+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Stereo",c):h.call(e,"__","Stereo",c)))+"</option>\n        </select>\n    </div>\n</div>\n\n<hr />\n\n<h3 class=\"txt-error\"><strong><span class=\"icon-warning\"></span> "+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"For tests only",c):h.call(e,"__","For tests only",c)))+"</strong></h3>\n\n<div class=\"panel\">\n    <label>\n        <input name=\"displayDownloadLink\" type=\"checkbox\" ",r=a.if.call(e,e&&e.displayDownloadLink,{hash:{},inverse:m.noop,fn:m.program(1,i,o),data:o}),(r||0===r)&&(p+=r),p+="/>\n        <span class=\"icon-checkbox\"></span>\n        "+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Allow download",c):h.call(e,"__","Allow download",c)))+"\n    </label>\n    <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n    <span class=\"tooltip-content\">\n        "+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"This is for testing purposes only. Displays a link to download the recorded file once the recording stops. This shouldn't be used in a delivery context, as it would allow the test taker to download its own recording.",c):h.call(e,"__","This is for testing purposes only. Displays a link to download the recorded file once the recording stops. This shouldn't be used in a delivery context, as it would allow the test taker to download its own recording.",c)))+"\n    </span>\n</div>\n\n<div class=\"panel\">\n    <label for=\"partial-update-interval\" class=\"spinner\">"+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"Update interval:",c):h.call(e,"__","Update interval:",c)))+"</label>\n    <input id=\"partial-update-interval\" name=\"partialUpdateInterval\" value=\"",(d=a.partialUpdateInterval)?r=d.call(e,{hash:{},data:o}):(d=e&&e.partialUpdateInterval,r="function"==typeof d?d.call(e,{hash:{},data:o}):d),p+=u(r)+"\" class=\"large\" data-increment=\"1\" data-min=\"1\" data-max=\"60\" type=\"text\" />\n    <span class=\"icon-help tooltipstered\" data-tooltip=\"~ .tooltip-content\" data-tooltip-theme=\"info\"></span>\n    <span class=\"tooltip-content\">\n        "+u((d=a.__||e&&e.__,c={hash:{},data:o},d?d.call(e,"In seconds. The time interval between partial updates of the recording.",c):h.call(e,"__","In seconds. The time interval between partial updates of the recording.",c)))+"\n    </span>\n</div>"})}),define("audioRecordingInteraction/creator/widget/states/Question",["lodash","i18n","jquery","module","taoQtiItem/qtiCreator/widgets/states/factory","taoQtiItem/qtiCreator/widgets/interactions/states/Question","taoQtiItem/qtiCreator/widgets/helpers/formElement","taoQtiItem/qtiCreator/widgets/helpers/pciMediaManager/pciMediaManager","taoQtiItem/qtiCreator/editor/simpleContentEditableElement","tpl!audioRecordingInteraction/creator/tpl/propertiesForm"],function(t,e,a,n,o,i,s,l,r,d){"use strict";function c(t,e,a){t.prop(a,e),t.triggerPci("configChange",[t.getProperties()])}function p(t,e){return void 0===t?e:""!==t&&(!0===t||"true"===t)}var h=o.extend(i,function(){},function(){var t=this.widget.$container;r.destroy(t)});return h.prototype.initForm=function(){var e,a,o,i,r,h=this.widget,u=h.$form,m=h.element,_=m.getResponseDeclaration(),f=l(h);u.html(d(t.defaults({},n.config(),{serial:_.serial,identifier:m.attr("responseIdentifier"),allowPlayback:p(m.prop("allowPlayback"),!0),hideStopButton:p(m.prop("hideStopButton"),!1),autoStart:p(m.prop("autoStart"),!1),sequential:!!m.hasClass("sequential"),hideRecordButton:p(m.prop("hideRecordButton"),!1),autoPlayback:p(m.prop("autoPlayback"),!1),playSound:p(m.prop("playSound"),!1),delayMinutes:m.prop("delayMinutes"),delaySeconds:m.prop("delaySeconds"),maxRecords:m.prop("maxRecords"),maxRecordingTime:m.prop("maxRecordingTime"),isCompressed:p(m.prop("isCompressed"),!0),audioBitrate:m.prop("audioBitrate"),isStereo:p(m.prop("isStereo"),!1),updateResponsePartially:p(m.prop("updateResponsePartially"),!0),partialUpdateInterval:parseInt(m.prop("partialUpdateInterval"),10)/1e3,displayDownloadLink:p(m.prop("displayDownloadLink"),!1),enableDomEvents:p(m.prop("enableDomEvents"),!1)}))),e=u.find("[data-role=\"compressedOptions\"]"),a=u.find("[data-role=\"uncompressedOptions\"]"),o=u.find("[data-role=\"sequentialOption\"]"),i=u.find("[data-role=\"delayOptions\"]"),r=u.find("[data-role=\"hideRecordOption\"]"),s.initWidget(u),s.setChangeCallbacks(u,m,t.assign({identifier:function(t,e){_.id(e),m.attr("responseIdentifier",e)},allowPlayback:c,hideStopButton:c,autoStart:function(t,e,a){e?(i.show(),r.show(),o.show()):(i.hide(),r.hide(),r.find("input[name=\"hideRecordButton\"]").prop("checked",!1),c(t,!1,"hideRecordButton"),o.hide(),o.find("input[name=\"sequential\"]").prop("checked",!1),u.find("input[name=\"maxRecords\"]").prop("disabled",!1),m.toggleClass("sequential",!1),c(t,!1,"enableDomEvents")),c(t,e,a)},sequential:function(t,e){e?(u.find("input[name=\"maxRecords\"]").prop("value",1).prop("disabled",!0),c(t,1,"maxRecords")):u.find("input[name=\"maxRecords\"]").prop("disabled",!1),m.toggleClass("sequential",e),c(t,e,"enableDomEvents")},hideRecordButton:c,autoPlayback:c,playSound:c,delayMinutes:c,delaySeconds:c,maxRecords:c,maxRecordingTime:c,isCompressed:function(t,n,o){"true"===n?(a.hide(),e.show()):(a.show(),e.hide()),c(t,n,o)},audioBitrate:c,isStereo:c,partialUpdateInterval:function(t,e,a){e=1e3*parseFloat(e),c(t,e,a)},displayDownloadLink:c},f.getChangeCallbacks())),f.init()},h}),define("audioRecordingInteraction/creator/widget/states/states",["taoQtiItem/qtiCreator/widgets/states/factory","taoQtiItem/qtiCreator/widgets/interactions/customInteraction/states/states","audioRecordingInteraction/creator/widget/states/Question"],function(t,e){"use strict";return t.createBundle(e,arguments,["answer","correct","map"])}),define("css!audioRecordingInteraction/creator/css/audioRecordingInteraction",[],function(){}),define("audioRecordingInteraction/creator/widget/Widget",["taoQtiItem/qtiCreator/widgets/interactions/customInteraction/Widget","audioRecordingInteraction/creator/widget/states/states","css!audioRecordingInteraction/creator/css/audioRecordingInteraction"],function(t,e){"use strict";var a=t.clone();return a.initCreator=function(){var a;this.registerStates(e),t.initCreator.call(this),a=this.$container.find(".audioRecordingInteraction"),a.length&&a.addClass("tao-qti-creator-context")},a}),define("tpl!audioRecordingInteraction/creator/tpl/markup",["handlebars"],function(t){return t.template(function(t,e,a,n,o){return this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,t.helpers),o=o||{},"<div class=\"audioRecordingInteraction\">\n    <div class=\"audio-rec\">\n        <div class=\"input-meter\">\n            <div class=\"countdown-pie-chart\"> </div>\n            <div class=\"leds\"> </div>\n            <div class=\"mic\"> </div>\n        </div>\n        <div class=\"progress\"> </div>\n        <div class=\"controls\"> </div>\n    </div>\n</div>"})}),define("audioRecordingInteraction/imsPciCreator",["lodash","taoQtiItem/qtiCreator/editor/customInteractionRegistry","audioRecordingInteraction/creator/widget/Widget","tpl!audioRecordingInteraction/creator/tpl/markup"],function(t,e,a,n){"use strict";var o={getTypeIdentifier:function(){return"audioRecordingInteraction"},getWidget:function(){var e;return a.beforeStateInit(function(a,n){n.typeIdentifier&&"audioRecordingInteraction"===n.typeIdentifier&&(e=o.getDefaultProperties(),t.forEach(e,function(t,e){void 0===n.properties[e]&&(n.properties[e]=t)}))}),a},getDefaultProperties:function(){return{isReviewMode:!1,allowPlayback:!0,hideStopButton:!1,autoStart:!1,hideRecordButton:!1,autoPlayback:!1,playSound:!1,delayMinutes:0,delaySeconds:0,maxRecords:2,maxRecordingTime:120,isCompressed:!0,audioBitrate:2e4,isStereo:!1,media:{autostart:!0,replayTimeout:5,maxPlays:2},displayDownloadLink:!1,updateResponsePartially:!0,partialUpdateInterval:1e3}},afterCreate:function(){},getMarkupTemplate:function(){return n},getMarkupData:function(t,e){return e}};return o}),function(t){var e=document,o=e.createElement("style");o.type="text/css",e.getElementsByTagName("head")[0].appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(e.createTextNode(t))}(".item-editor-interaction-related div[data-role=\"autoStartOption\"]+div[data-role=\"delayOptions\"],.item-editor-interaction-related div[data-role=\"autoStartOption\"]+div[data-role=\"sequentialOption\"]{margin-top:-10px}.item-editor-interaction-related div[data-role=\"delayOptions\"] .panel label{padding-left:22px}.item-editor-interaction-related div[data-role=\"hideRecordOption\"],.item-editor-interaction-related div[data-role=\"sequentialOption\"]{padding-left:18px}\n\n/*# sourceMappingURL=audioRecordingInteraction.css.map */"),define(["audioRecordingInteraction/imsPciCreator"],function(t){return t});