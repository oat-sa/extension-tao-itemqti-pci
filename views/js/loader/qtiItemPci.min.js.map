{"version":3,"names":["define","hb","template","compiler","main","container","depth0","helpers","partials","data","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","hooks","helperMissing","nullContext","name","hash","loc","start","line","column","end","useData","stack1","helper","fn","program","inverse","noop","$","__","_","component","hider","switchFactory","buttonFactory","layoutTpl","listingTpl","packageMetaTpl","asyncLib","confirmBox","dialog","feedback","_fileTypeFilters","_fileExtFilter","_defaults","loadUrl","disableUrl","enableUrl","verifyUrl","addUrl","pciManager","open","trigger","getElement","appendTo","pciManagerFactory","config","listing","setTemplate","on","$fileSelector","find","$title","$uploader","$uploadForm","$switcher","show","filter","hide","text","$fileContainer","$placeholder","css","display","uploader","self","urls","pick","size","empty","html","interactions","each","pciDownloadButton","pciswitch","pciUnregisterButton","$li","closest","typeIdentifier","pciIdentifier","runtimeOnly","active","hasClass","off","removeClass","getJSON","success","enabled","addClass","id","type","icon","label","class","renderTo","confirmDialog","heading","message","content","autoRender","autoDestroy","buttons","close","onDeleteBtn","unregisterUrl","window","location","exportPciUrl","initEventListeners","e","preventDefault","isHidden","initUploader","verify","file","cb","sendfile","url","loaded","r","done","ok","selectedFiles","version","model","valid","exists","isArray","messages","forEach","report","error","failed","Error","errors","interactionHook","err","push","length","join","encodeHtml","filename","packageMeta","prepend","upload","multiple","uploadUrl","fileSelect","files","givenLength","checkType","replace","contains","test","$container","init","route","PciManager","actions","index","c","d","document","a","i","s","createElement","getElementsByTagName","appendChild","styleSheet","cssText","createTextNode"],"sources":["/Users/martinnicholson/work/currentgen/tao-community-handlebars4/tao/views/build/config-wrap-start-default.js","../pciManager/tpl/layout!tpl","../pciManager/tpl/listing!tpl","../pciManager/tpl/packageMeta!tpl","../pciManager/pciManager.js","css!qtiItemPciCss/pci-manager","../controller/pciManager/index.js","../controller/routes.js","onLayerEnd0.js","module-create.js","/Users/martinnicholson/work/currentgen/tao-community-handlebars4/tao/views/build/config-wrap-end-default.js"],"sourcesContent":["\n","\ndefine('tpl!qtiItemPci/pciManager/tpl/layout', ['handlebars'], function(hb){ return hb.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"pcimgr resourcemgr\\\">\\n\\n    <section class=\\\"file-selector\\\">\\n        <h1>\\n            <div class=\\\"title-container lft\\\">\\n                <span class=\\\"title\\\">\"\n    + container.escapeExpression((lookupProperty(helpers,\"__\")||(depth0 && lookupProperty(depth0,\"__\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"Manage custom interactions\",{\"name\":\"__\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":36},\"end\":{\"line\":6,\"column\":71}}}))\n    + \"</span>\\n            </div>\\n            <div class=\\\"upload-switcher rgt\\\">\\n                <a href=\\\"#\\\" class=\\\"btn-info small upload\\\"><span class=\\\"icon-add\\\"></span>\"\n    + container.escapeExpression((lookupProperty(helpers,\"__\")||(depth0 && lookupProperty(depth0,\"__\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"Add Interaction\",{\"name\":\"__\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":88},\"end\":{\"line\":9,\"column\":112}}}))\n    + \"</a>\\n                <a href=\\\"#\\\" class=\\\"btn-info small listing hidden\\\"><span class=\\\"icon-undo\\\"></span>\"\n    + container.escapeExpression((lookupProperty(helpers,\"__\")||(depth0 && lookupProperty(depth0,\"__\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"Back to listing\",{\"name\":\"__\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":97},\"end\":{\"line\":10,\"column\":121}}}))\n    + \"</a>\\n            </div>\\n        </h1>\\n\\n        <div class=\\\"empty\\\">\\n            \"\n    + container.escapeExpression((lookupProperty(helpers,\"__\")||(depth0 && lookupProperty(depth0,\"__\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"No Custom Interaction\",{\"name\":\"__\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":12},\"end\":{\"line\":15,\"column\":42}}}))\n    + \"\\n        </div>\\n\\n        <ul class=\\\"files\\\"></ul>\\n\\n        <div class=\\\"file-upload-container hidden\\\"></div>\\n    </section>\\n\\n</div>\";\n},\"useData\":true}); });\n","\ndefine('tpl!qtiItemPci/pciManager/tpl/listing', ['handlebars'], function(hb){ return hb.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li data-type-identifier=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"typeIdentifier\") || (depth0 != null ? lookupProperty(depth0,\"typeIdentifier\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"typeIdentifier\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":26},\"end\":{\"line\":5,\"column\":44}}}) : helper)))\n    + \"\\\" data-pci-identifier=\\\"\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"pci_identifier\") || (depth0 != null ? lookupProperty(depth0,\"pci_identifier\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"pci_identifier\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":67},\"end\":{\"line\":5,\"column\":85}}}) : helper)))\n    + \"\\\" class=\\\"pci-list-element\"\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"enabled\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":110},\"end\":{\"line\":5,\"column\":154}}})) != null ? stack1 : \"\")\n    + \"\\\">\\n    <span class=\\\"desc truncate\\\">\\n        <span class=\\\"name\\\">(\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"model\") || (depth0 != null ? lookupProperty(depth0,\"model\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"model\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":28},\"end\":{\"line\":7,\"column\":37}}}) : helper)))\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"runtimeOnly\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":37},\"end\":{\"line\":7,\"column\":107}}})) != null ? stack1 : \"\")\n    + \") - \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"label\") || (depth0 != null ? lookupProperty(depth0,\"label\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"label\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":111},\"end\":{\"line\":7,\"column\":120}}}) : helper)))\n    + \" - v\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"version\") || (depth0 != null ? lookupProperty(depth0,\"version\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"version\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":124},\"end\":{\"line\":7,\"column\":135}}}) : helper)))\n    + \"</span>\\n        <span class=\\\"disable-tag\\\">- \"\n    + container.escapeExpression((lookupProperty(helpers,\"__\")||(depth0 && lookupProperty(depth0,\"__\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"disabled\",{\"name\":\"__\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":36},\"end\":{\"line\":8,\"column\":53}}}))\n    + \"</span>\\n    </span>\\n\\n    <div class=\\\"actions\\\">\\n        <div class=\\\"pci-switch\\\"></div>\\n        <div class=\\\"pci-download-button\\\"></div>\\n        <div class=\\\"pci-unregister-button\\\"></div>\\n    </div>\\n</li>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \" pci-disabled\\\"\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \" <span class=\\\"runtime\\\">- runtime only</span>\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"action-header\\\">\\n        <span class=\\\"switch-header\\\">\"\n    + container.escapeExpression((lookupProperty(helpers,\"__\")||(depth0 && lookupProperty(depth0,\"__\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"Enabled in item authoring\",{\"name\":\"__\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":36},\"end\":{\"line\":2,\"column\":70}}}))\n    + \"</span>\\n    </div>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"interactions\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":0},\"end\":{\"line\":17,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true}); });\n","\ndefine('tpl!qtiItemPci/pciManager/tpl/packageMeta', ['handlebars'], function(hb){ return hb.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"upload-label\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"label\") || (depth0 != null ? lookupProperty(depth0,\"label\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"label\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":27},\"end\":{\"line\":1,\"column\":36}}}) : helper)))\n    + \"</span>\\n<span class=\\\"upload-separator\\\"></span>\\n<span class=\\\"upload-identifier\\\">(\"\n    + container.escapeExpression((lookupProperty(helpers,\"__\")||(depth0 && lookupProperty(depth0,\"__\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"type : \",{\"name\":\"__\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":33},\"end\":{\"line\":3,\"column\":49}}}))\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"model\") || (depth0 != null ? lookupProperty(depth0,\"model\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"model\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":49},\"end\":{\"line\":3,\"column\":58}}}) : helper)))\n    + \", \"\n    + container.escapeExpression((lookupProperty(helpers,\"__\")||(depth0 && lookupProperty(depth0,\"__\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"id : \",{\"name\":\"__\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":60},\"end\":{\"line\":3,\"column\":74}}}))\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"typeIdentifier\") || (depth0 != null ? lookupProperty(depth0,\"typeIdentifier\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"typeIdentifier\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":74},\"end\":{\"line\":3,\"column\":92}}}) : helper)))\n    + \", \"\n    + container.escapeExpression((lookupProperty(helpers,\"__\")||(depth0 && lookupProperty(depth0,\"__\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"version : \",{\"name\":\"__\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":94},\"end\":{\"line\":3,\"column\":113}}}))\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"version\") || (depth0 != null ? lookupProperty(depth0,\"version\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"version\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":113},\"end\":{\"line\":3,\"column\":124}}}) : helper)))\n    + \")</span>\\n<span class=\\\"upload-separator\\\">-</span>\";\n},\"useData\":true}); });\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016-2022 (original work) Open Assessment Technologies SA;\n *\n */\ndefine('qtiItemPci/pciManager/pciManager',[\n    'jquery',\n    'i18n',\n    'lodash',\n    'ui/component',\n    'ui/hider',\n    'ui/switch/switch',\n    'ui/button',\n    'tpl!qtiItemPci/pciManager/tpl/layout',\n    'tpl!qtiItemPci/pciManager/tpl/listing',\n    'tpl!qtiItemPci/pciManager/tpl/packageMeta',\n    'async',\n    'ui/dialog/confirm',\n    'ui/dialog',\n    'ui/feedback',\n    'ui/modal',\n    'ui/uploader',\n    'ui/filesender'\n], function (\n    $,\n    __,\n    _,\n    component,\n    hider,\n    switchFactory,\n    buttonFactory,\n    layoutTpl,\n    listingTpl,\n    packageMetaTpl,\n    asyncLib,\n    confirmBox,\n    dialog,\n    feedback\n) {\n    'use strict';\n\n    const _fileTypeFilters = ['application/zip', 'application/x-zip-compressed', 'application/x-zip'],\n        _fileExtFilter = /.+\\.(zip)$/;\n\n    const _defaults = {\n        loadUrl: null,\n        disableUrl: null,\n        enableUrl: null,\n        verifyUrl: null,\n        addUrl: null\n    };\n\n    const pciManager = {\n        open: function open() {\n            this.trigger('showListing');\n            this.getElement().appendTo('.pci-manager');\n        }\n    };\n\n    /**\n     * Create a pci manager\n     *\n     * @param {Object} config\n     * @param {String} config.loadUrl - the service be called to load the list of pcis\n     * @param {String} config.verifyUrl - the service be called to verify a pci package\n     * @param {String} config.addUrl - the service be called to add a pci\n     * @param {String} config.enableUrl - the service be called to enable the pcis\n     * @param {String} config.disableUrl - the service be called to disable the pcis\n     * @returns {*}\n     */\n    return function pciManagerFactory(config) {\n        let listing = {};\n\n        /**\n         * Create pci manager component\n         *\n         * @returns {Object} a pciManager component\n         * @fires pciManager#loaded - when the pci manager is initially loaded\n         * @fires pciManager#showListing - when the list of pci is displayed\n         * @fires pciManager#hideListing - when the list of pci is hidden\n         * @fires pciManager#updateListing - when the list of pci is updated\n         * @fires pciManager#pciEnabled - when a pci is enabled\n         * @fires pciManager#pciDisabled - when a pci is pci-disabled\n         */\n        return component(pciManager, _defaults)\n            .setTemplate(layoutTpl)\n            .on('showListing', function () {\n                const $fileSelector = this.getElement().find('.file-selector'),\n                    $title = $fileSelector.find('.title'),\n                    $uploader = $fileSelector.find('.file-upload-container'),\n                    $uploadForm = $uploader.parent('form'),\n                    $switcher = $fileSelector.find('.upload-switcher a');\n\n                hider.show($switcher.filter('.upload'));\n                hider.hide($switcher.filter('.listing'));\n                $uploadForm.hide();\n                hider.hide($uploader);\n                $title.text(__('Manage custom interactions'));\n\n                this.trigger('updateListing');\n            })\n            .on('hideListing', function () {\n                const $fileSelector = this.getElement().find('.file-selector'),\n                    $fileContainer = $fileSelector.find('.files'),\n                    $placeholder = $fileSelector.find('.empty'),\n                    $title = $fileSelector.find('.title'),\n                    $uploader = $fileSelector.find('.file-upload-container'),\n                    $uploadForm = $uploader.parent('form'),\n                    $switcher = $fileSelector.find('.upload-switcher a');\n\n                hider.show($switcher.filter('.listing'));\n                hider.hide($switcher.filter('.upload'));\n                $switcher.filter('.listing').css({ display: 'inline-block' });\n                $uploadForm.show();\n                hider.hide($fileContainer);\n                hider.hide($placeholder);\n                $title.text(__('Upload new custom interaction (zip package)'));\n\n                $uploader.uploader('reset');\n                hider.show($uploader);\n            })\n            .on('updateListing', function () {\n                const self = this,\n                    urls = _.pick(this.config, ['disableUrl', 'enableUrl', 'unregisterUrl', 'exportPciUrl']),\n                    $fileSelector = this.getElement().find('.file-selector'),\n                    $fileContainer = $fileSelector.find('.files'),\n                    $placeholder = $fileSelector.find('.empty');\n                if (_.size(listing)) {\n                    hider.hide($placeholder);\n\n                    $fileContainer.empty().html(\n                        listingTpl({\n                            interactions: listing\n                        })\n                    );\n                    $fileContainer.find('.actions').each(function () {\n                        const pciDownloadButton = $(this).find('.pci-download-button');\n                        const pciswitch = $(this).find('.pci-switch');\n                        const pciUnregisterButton = $(this).find('.pci-unregister-button');\n                        const $li = $(this).closest('li');\n                        const typeIdentifier = $li.data('typeIdentifier');\n                        const pciIdentifier = $li.data('pciIdentifier');\n                        const runtimeOnly = listing[typeIdentifier].runtimeOnly;\n                        if (!runtimeOnly) {\n                            switchFactory(pciswitch, {\n                                on: {\n                                    active: !$li.hasClass('pci-disabled')\n                                },\n                                off: {\n                                    active: $li.hasClass('pci-disabled')\n                                }\n                            })\n                                .on('on', function () {\n                                    $li.removeClass('pci-disabled');\n                                    $.getJSON(urls.enableUrl, { typeIdentifier: typeIdentifier }, function (data) {\n                                        if (data.success) {\n                                            listing[typeIdentifier].enabled = true;\n                                            self.trigger('pciEnabled', typeIdentifier);\n                                        }\n                                    });\n                                })\n                                .on('off', function () {\n                                    $li.addClass('pci-disabled');\n                                    $.getJSON(urls.disableUrl, { typeIdentifier: typeIdentifier }, function (data) {\n                                        if (data.success) {\n                                            listing[typeIdentifier].enabled = false;\n                                            self.trigger('pciDisabled', typeIdentifier);\n                                        }\n                                    });\n                                });\n                        }\n                        buttonFactory({\n                            id: 'unregister',\n                            type: 'info',\n                            icon: 'bin',\n                            label: __('Delete'),\n                            class: 'unregister',\n                            renderTo: pciUnregisterButton\n                        }).on('click', function confirmDialog() {\n                            dialog({\n                                class: 'icon-warning',\n                                heading: __('Warning'),\n                                message: __(\n                                    'You are about to delete the Portable Custom Interaction <strong>%s</strong> from the system.',\n                                    typeIdentifier\n                                ),\n                                content: __(\n                                    'This action will affect all items that may be using it and cannot be undone. Please confirm your choice.'\n                                ),\n                                autoRender: true,\n                                autoDestroy: true,\n                                buttons: [\n                                    {\n                                        id: 'cancel',\n                                        type: 'regular',\n                                        label: __('Cancel'),\n                                        close: true\n                                    },\n                                    {\n                                        id: 'delete',\n                                        type: 'error',\n                                        label: __('Delete'),\n                                        close: true\n                                    }\n                                ],\n                                onDeleteBtn: function onDeleteBtn() {\n                                    $.getJSON(urls.unregisterUrl, { typeIdentifier: typeIdentifier }, function (data) {\n                                        if (data.success) {\n                                            delete listing[typeIdentifier];\n                                            self.trigger('pciDisabled', typeIdentifier);\n                                        }\n                                    });\n                                }\n                            });\n                        });\n\n                        if (!runtimeOnly) {\n                            buttonFactory({\n                                id: 'exportPci',\n                                type: 'info',\n                                icon: 'import',\n                                label: __('Download'),\n                                renderTo: pciDownloadButton\n                            }).on('click', function () {\n                                window.location =`${urls.exportPciUrl}?typeIdentifier=${typeIdentifier}&pciIdentifier=${pciIdentifier}`;\n                            });\n                        }\n                    });\n\n                    hider.show($fileContainer);\n                } else {\n                    hider.hide($fileContainer);\n                    hider.show($placeholder);\n                }\n            })\n            .on('pciEnabled', function () {\n                this.trigger('updateListing');\n            })\n            .on('pciDisabled', function () {\n                this.trigger('updateListing');\n            })\n            .on('render', function () {\n                //init variables:\n                const self = this,\n                    urls = _.pick(this.config, ['loadUrl', 'disableUrl', 'enableUrl', 'verifyUrl', 'addUrl']),\n                    $container = this.getElement(),\n                    $fileSelector = $container.find('.file-selector'),\n                    $uploader = $fileSelector.find('.file-upload-container'),\n                    $switcher = $fileSelector.find('.upload-switcher a');\n                let $uploadForm;\n\n                //init event listeners\n                initEventListeners();\n                initUploader();\n\n                //load list of custom interactions from server\n                $.getJSON(urls.loadUrl, function (data) {\n                    //note : init as empty object and not array otherwise _.size will fail later\n                    listing = _.size(data) ? data : {};\n                    self.trigger('updateListing', data);\n                    self.trigger('loaded', data);\n                });\n\n                function initEventListeners() {\n                    //switch to upload mode\n                    $switcher.on('click', function (e) {\n                        e.preventDefault();\n                        if (hider.isHidden($uploader)) {\n                            self.trigger('hideListing');\n                        } else {\n                            self.trigger('showListing');\n                        }\n                    });\n                }\n\n                function initUploader() {\n                    let errors = [],\n                        selectedFiles = {};\n\n                    $uploader\n                        .on('upload.uploader', function (e, file, interactionHook) {\n                            listing[interactionHook.typeIdentifier] = interactionHook;\n                            self.trigger('pciAdded', interactionHook.typeIdentifier);\n                        })\n                        .on('fail.uploader', function (e, file, err) {\n                            errors.push(__('Unable to upload file %s : %s', file.name, err));\n                        })\n                        .on('end.uploader', function () {\n                            if (errors.length === 0) {\n                                self.trigger('showListing');\n                            } else {\n                                feedback().error(`<ul><li>${errors.join('</li><li>')}</li></ul>`, {\n                                    encodeHtml: false\n                                });\n                            }\n                            //reset errors\n                            errors = [];\n                        })\n                        .on('create.uploader', function () {\n                            //get ref to the uploadForm for later verification usage\n                            $uploadForm = $uploader.parent('form');\n                            $uploadForm.hide();\n                        })\n                        .on('fileselect.uploader', function () {\n                            $uploadForm.find('li[data-file-name]').each(function () {\n                                const $li = $(this),\n                                    filename = $li.data('file-name'),\n                                    packageMeta = selectedFiles[filename];\n\n                                if (packageMeta) {\n                                    //update label:\n                                    $li.prepend(packageMetaTpl(packageMeta));\n                                }\n                            });\n                        });\n\n                    $uploader.uploader({\n                        upload: true,\n                        multiple: true,\n                        uploadUrl: urls.addUrl,\n                        fileSelect: function fileSelect(files, done) {\n                            const givenLength = files.length;\n\n                            //check the mime-type\n                            files = _.filter(files, function (file) {\n                                // for some weird reasons some browsers have quotes around the file type\n                                const checkType = file.type.replace(/(\"|')/g, '');\n                                return (\n                                    _.contains(_fileTypeFilters, checkType) ||\n                                    (checkType === '' && _fileExtFilter.test(file.name))\n                                );\n                            });\n\n                            if (files.length !== givenLength) {\n                                feedback().error(__('Invalid files have been removed'));\n                            }\n\n                            //reset selectedFiles list\n                            selectedFiles = {};\n\n                            //verify selected files\n                            asyncLib.filter(files, verify, done);\n                        }\n                    });\n\n                    function verify(file, cb) {\n                        $uploadForm.sendfile({\n                            url: urls.verifyUrl,\n                            file: file,\n                            loaded: function (r) {\n                                function done(ok) {\n                                    if (ok) {\n                                        selectedFiles[file.name] = {\n                                            typeIdentifier: r.typeIdentifier,\n                                            label: r.label,\n                                            version: r.version,\n                                            model: r.model\n                                        };\n                                    }\n                                    cb(ok);\n                                }\n\n                                if (r.valid) {\n                                    if (r.exists) {\n                                        confirmBox(\n                                            __(\n                                                'There is already one interaction with the same identifier \"%s\" (label : \"%s\") and same version : %s. Do you want to override the existing one ?',\n                                                r.typeIdentifier,\n                                                r.label,\n                                                r.version\n                                            ),\n                                            function () {\n                                                done(true);\n                                            },\n                                            function () {\n                                                done(false);\n                                            }\n                                        );\n                                    } else {\n                                        done(true);\n                                    }\n                                } else {\n                                    if (_.isArray(r.messages)) {\n                                        _.forEach(r.messages, function (report) {\n                                            feedback().error(report.message);\n                                        });\n                                    }\n\n                                    done(false);\n                                }\n                            },\n                            failed: function (message) {\n                                cb(new Error(message));\n                            }\n                        });\n                    }\n                }\n            })\n            .init(config);\n    };\n});\n\n","\ndefine('css!qtiItemPciCss/pci-manager',[],function(){});\n","define('qtiItemPci/controller/pciManager/index',[\n    'jquery',\n    'util/url',\n    'qtiItemPci/pciManager/pciManager',\n    'css!qtiItemPciCss/pci-manager'\n\n], function ($, url, pciManager) {\n    'use strict';\n\n    var $container = $('.pci-manager');\n\n    return {\n        start: function start() {\n\n            pciManager({\n                renderTo: $container,\n                loadUrl : url.route('getRegisteredImplementations', 'PciManager', 'qtiItemPci'),\n                disableUrl : url.route('disable', 'PciManager', 'qtiItemPci'),\n                enableUrl : url.route('enable', 'PciManager', 'qtiItemPci'),\n                verifyUrl : url.route('verify', 'PciManager', 'qtiItemPci'),\n                addUrl : url.route('add', 'PciManager', 'qtiItemPci'),\n                unregisterUrl: url.route('unregister', 'PciManager', 'qtiItemPci'),\n                exportPciUrl: url.route('export', 'PciManager', 'qtiItemPci')\n            })\n        }\n    };\n});\n","define('qtiItemPci/controller/routes',[],function () {\n    'use strict';\n\n    return {\n        'PciManager': {\n            'actions': {\n                'index': 'controller/pciManager/index'\n            }\n        }\n    }\n});\n","\n(function(c){var d=document,a='appendChild',i='styleSheet',s=d.createElement('style');s.type='text/css';d.getElementsByTagName('head')[0][a](s);s[i]?s[i].cssText=c:s[a](d.createTextNode(c));})\n('.pci-manager{margin:auto auto;width:80%}.pci-manager .pcimgr{max-width:100%}.pci-manager .resourcemgr{width:100%}.pci-manager-trigger:before{margin-right:5px;font-size:10.5px;font-size:1.05rem;font-family:\\\"tao\\\" !important;speak:never;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:\\\"î˜œ\\\"}.pcimgr .file-selector{display:block;min-height:400px;min-width:100%;margin-bottom:20px}.pcimgr .file-selector .title-container{margin-right:75px}.pcimgr .file-selector .title-container .title{margin-right:0}.pcimgr .file-selector .note{color:#0e5d91;font-weight:bold;margin:0 3px}.pcimgr .file-selector .note-container{position:absolute;bottom:-30px}.pcimgr .file-selector ul.files{overflow-y:auto;min-height:300px}.pcimgr .file-selector ul.files div.action-header{position:relative;height:2rem}.pcimgr .file-selector ul.files div.action-header span.switch-header{position:absolute}.pcimgr .file-selector .pci-list-element{cursor:default !important}.pcimgr .file-selector .pci-list-element span.runtime{color:#0e5d91}.pcimgr .file-selector .pci-list-element div.actions{top:5px !important;width:auto !important;height:auto !important;line-height:1.4}.pcimgr .file-selector .pci-list-element div.actions .pci-switch{margin-right:2rem;position:relative;left:0;top:1px;display:inline}.pcimgr .file-selector .pci-list-element div.actions .pci-unregister-button{position:relative;display:inline;margin-right:2rem}.pcimgr .file-selector .pci-list-element div.actions .pci-download-button{position:relative;display:inline}.pcimgr .file-selector .pci-list-element .button-disable{height:18px;padding:4px 6px;display:inline-block}.pcimgr .file-selector .pci-list-element .button-enable{height:18px;padding:4px 6px;display:none}.pcimgr .file-selector .pci-list-element .disable-tag{display:none;font-style:italic}.pcimgr .file-selector .pci-list-element.pci-disabled{color:#a7a7a7}.pcimgr .file-selector .pci-list-element.pci-disabled:hover{background:#ecf2f6}.pcimgr .file-selector .pci-list-element.pci-disabled .button-disable{display:none}.pcimgr .file-selector .pci-list-element.pci-disabled .button-enable{display:inline-block}.pcimgr .file-selector .pci-list-element.pci-disabled .desc{font-style:italic}.pcimgr .file-selector .pci-list-element.pci-disabled .disable-tag{display:inline-block}.pcimgr .file-selector .file-upload-container{display:block}.uploader .upload-separator{margin:0 2px;color:#333}.uploader .upload-label{font-weight:bold}.uploader .upload-identifier{color:#333}\\n\\n/*# sourceMappingURL=qtiItemPciCss/pci-manager.css.map */');\n","\ndefine(\"qtiItemPci/loader/qtiItemPci.bundle\", function(){});\n","define(\"qtiItemPci/loader/qtiItemPci.min\", [\"taoItems/loader/taoItems.min\",\"taoQtiItem/loader/taoQtiItem.min\"], function(){});\n"],"mappings":"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"}